!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).ThunderEvents=n()}(this,(function(){"use strict";const e={title:"Venue",imageSrc:"",dimensions:{height:600,width:800},clickableAreas:[]},n={locations:[],events:[],floorPlan:e,rollOverTime:"12:00 AM"},t="FAVORITE_EVENTS",a="HIDDEN_LOCATIONS",r=async e=>{const n=JSON.parse(localStorage.getItem(t)||"[]");n.push(e);const a=JSON.stringify(n);return localStorage.setItem(t,a),n},o=async()=>JSON.parse(localStorage.getItem(t)||"[]"),i=async(e=[])=>(console.log(e),localStorage.setItem(a,JSON.stringify(e)),e),l=async()=>JSON.parse(localStorage.getItem(a)||"[]"),c=()=>Promise.resolve({guide:n,addFavorite:r,getFavorites:o,updateHiddenLocations:i,getHiddenLocations:l}),s=Date.now(),d={start:s,end:s+36e5,location:"(not provided)",name:"(no name)",host:"(not provided)",category:"(not provided)",description:"(no description)"},p={location:"(none)",shape:"rect",coords:[],href:"#",alt:""},g={days:[],interval:60},m=()=>{},h=e=>null===e?"null":"object"==typeof e?e.constructor.name.toLowerCase():typeof e,u=(e,n)=>{const t="string"===h(n),a="array"===h(n)&&n.every((e=>"string"===h(e)));if(!t&&!a)throw"`checkType()` expects either a string or array of strings in the second argument";return t?h(e)===n:a?n.some((n=>h(e)===n)):void 0},v=e=>u(e,"object"),f=(e,n=m,t={})=>{if(!v(e))throw"`useFallback()` expects an object in the first argument";if(!u(n,"function"))throw"`useFallback()` expects a function in the second argument";if(!v(t))throw"`useFallback()` expects an object in the third argument";return(a,r)=>{const o=e[r],i=v(a),l=i?a[r]:null,c=u(l,["undefined","null"]);const s=h(l),d=t[r],p=u(d,"array")?d:u(d,"string")?[d]:[],g=s!==h(o)&&!p.some((e=>e===s));if(!i||c||g){return n(i?c?"empty":"mismatch":"invalid",r),o}return l}},b=(e,n="object",t={})=>{if(!v(e))throw"You may only cast to custom object types";return a=>{if(!v(a))return e;const r=f(e,((t,r)=>{"invalid"===t?console.warn(`The provided ${n} is not a valid object.`):"mismatch"===t?console.warn(`The \`${r}\` field expected type \`${h(e[r])}\` but got \`${h(a[r])}\`.`):"empty"===t&&console.warn(`The provided ${n} did not have the \`${r}\` field.`)}),t);return Object.keys(e).reduce(((e,n)=>(e[n]=r(a,n),e)),{})}},w=(e={})=>{if("after"in e&&!u(e.after,["number","date"]))throw"The `after` field expects a number or date";if("before"in e&&!u(e.before,["number","date"]))throw"The `before` field expects a number or date";if("locations"in e&&!u(e.locations,"array"))throw"The `locations` field expects an array";if("search"in e&&!u(e.search,["string","regexp"]))throw"The `search` field expects a string or regular expression";return!0},y=e=>{let n=e.childNodes.length;for(;n--;)e.removeChild(e.lastChild)},k=e=>{const n=document.createRange();return n.selectNode(document.body),n.createContextualFragment(e)},S=(e,n)=>e.map(n).join(""),x=(e,n=15)=>{const t=new Date(e),a=Math.round(t.getMinutes()/n)*n;return t.setMinutes(a),t},$=e=>Number(e.toFixed()),D=(e,n=!1)=>n?["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"][e]:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e],T=e=>{const n=new Date(e);return{time:n.toLocaleTimeString("en-US",{timeStyle:"short"}),day:D(n.getDay()),date:n.toLocaleDateString()}},E=(e,...n)=>`this.getRootNode().host.${e}(${n.length?`${[...n].map((e=>{if("event"===e||"this"===e)return e;const n=h(e),t={object:`\`${encodeURIComponent(JSON.stringify(e))}\``,string:`\`${e}\``,default:String(e)};return t[n]||t.default}))}`:"event"})`,L=({location:e,name:n,start:t})=>{const a=e=>e.replace(/[^a-zA-Z0-9]/g,""),r=new Date(t),o=`${r.toLocaleDateString()}-${r.toLocaleTimeString()}`;return`${a(e)}-${a(n)}-${a(o)}`},M=(e,n)=>{const t=e=>e?.normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-zA-Z0-9]/g,"").toLowerCase(),a=t(e),r=t(n);return-1!==r.search(a)||(-1!==a.search(r)||e.split(/\s+/g).some((e=>-1!==r.search(t(e)))))},A=(e,n=40)=>e.length>n?e.slice(0,n-4)+"...":e,F=(e,n,t="12:00 AM")=>{const a=Math.max(...n.filter((n=>n.getDate()===e.getDate())));if("12:00 AM"===t)return new Date(a);const r=new Date(e);r.setDate(e.getDate()+1),r.setTime(new Date(`${r.toLocaleDateString()} ${t}`).getTime());const o=n.filter((e=>e.getDate()===r.getDate())),i=Math.max(...o.filter((e=>e.getTime()<=r.getTime())));return new Date(i>0?i:a)},z=(e,n)=>{const t=new Date(e).getTime(),a=new Date(n).getTime();return t<a?-1:t>=a?1:0},_=e=>{const{days:n}=e.times||g,{day:t,date:a}=T(Date.now()),r=Object.keys(n);return r.find((e=>e===`${t} ${a}`))??(()=>{const e=r.map((e=>new Date(e))),n=e.filter((e=>Date.now()<e.getTime())),t=e.filter((e=>Date.now()>e.getTime()));n.sort(z),t.sort(z);const a=n.length>0?n[0]:t[t.length-1],{day:o,date:i}=T(a);return`${o} ${i}`})()},N={_hasFetched:!1,get hasFetched(){return this._hasFetched},set hasFetched(e){return this._hasFetched=e,!1!==e&&(this.fetchQueue.forEach((e=>e())),!0)},fetchQueue:[],waitForFetch(){return new Promise((e=>{this.hasFetched?e():this.fetchQueue.push(e)}))},guide:n,addFavorite:r,removeFavorite:async e=>{const n=JSON.parse(localStorage.getItem(t)||"[]"),a=n.findIndex((({location:n,start:t,name:a})=>{const{location:r,start:o,name:i}=e;return n===r&&t===o&&a===i}));n.splice(a,1);const r=JSON.stringify(n);return localStorage.setItem(t,r),n},getFavorites:o,updateHiddenLocations:i,getHiddenLocations:l,get locations(){const e=this.guide?.locations??[];return[...(this.guide?.events??[]).reduce(((e,n)=>u(n,"object")&&u(n.location,"string")?(e.has(n.location)||e.add(n.location),e):e),new Set(e))]},get times(){const e=this.guide?.events??[],n=this.guide?.rollOverTime??"12:00 AM",t=[...e.reduce(((e,n)=>u(n,"object")&&u(n.start,["number","date"])&&u(n.end,["number","date"])?(e.add(x(n.start)),e.add(x(n.end)),e):e),new Set)].sort(((e,n)=>+e>+n?1:+e<+n?-1:0)),a=new Date(Math.min(...t)),r=new Date(Math.max(...t)),o=t.reduce(((e,n)=>{if(15!==e){const t=n.getMinutes();30===t&&(e=30),15!==t&&45!==t||(e=15)}return e}),0),i=e=>({date:e,timeString:e.toLocaleTimeString("en-US",{timeStyle:"short"})}),l=e=>`${D(e.getDay())} ${e.toLocaleDateString()}`;let c={[l(a)]:[i(a)]},s=a,d=l(s),p=F(s,t,n);for(;s<r;){let e=null;if(Number(p)===Number(s))e=new Date(t.find((e=>e>s))),p=F(e,t,n),d=l(e),c[d]=[i(e)];else{e=new Date(s);const n=1e3*o*60;e.setTime(e.getTime()+n),c[d].push(i(e))}s=e}return{days:c,interval:o}}},I=async(e={})=>{if(await N.waitForFetch(),!v(e))throw"`getEvents()` expects an object in the first argument";const{include:n={},exclude:t={}}=e;w(n),w(t);const a={...e,include:{...n,after:n.after?Number(n.after):0,before:n.before?Number(n.before):1/0},exclude:{...t,after:t.after?Number(t.after):1/0,before:t.before?Number(t.before):0}},{include:r={},exclude:o={}}=a;return N.guide.events.filter((e=>!(e.start<r.after)&&(!(e.start>o.after)&&(!(e.end>r.before)&&(!(e.end<o.before)&&(!("locations"in r&&!contains(r.locations,e.location))&&((!("locations"in o)||!contains(o.locations,e.location))&&(!("search"in r&&!contains(e.name,r.search))&&(!("search"in o)||!contains(e.name,o.search))))))))))},O=async()=>(await N.waitForFetch(),N.locations),P=async()=>(await N.waitForFetch(),N.times),C=async()=>(await N.waitForFetch(),N.guide.floorPlan),R=async e=>await N.addFavorite(e),j=async e=>await N.removeFavorite(e),H=async()=>await N.getFavorites(),B=async e=>await N.updateHiddenLocations(e),G=async()=>await N.getHiddenLocations();var U=Object.freeze({__proto__:null,init:async(n=c)=>{const t=await n();if(!v(t))throw"`init()` must return an object";const{guide:a}=t;if(!v(a))throw"The `guide` field expects an object";if("events"in a){if(!u(a.events,"array"))throw"The `guide.events` field expects an array";const e=b(d,"event",{start:"date",end:"date"});N.guide.events=a.events.map(e)}if("floorPlan"in a){if(!v(a.floorPlan))throw"The `guide.floorPlan` field expects an object";const n=b(e,"floor plan"),t=b(p,"clickable area"),r=n(a.floorPlan);N.guide.floorPlan={...r,clickableAreas:r.clickableAreas.map(t)}}if("locations"in a){if(!u(a.events,"array"))throw"The `guide.locations` field expects an array";N.guide.locations=a.locations.map((e=>String(e)))}if("rollOverTime"in a){if(!u(a.rollOverTime,"string"))throw"The `guide.rollOverTime` field expects a string";if(!/(^((1[0-2])|0?[1-9]):\d{2} (AM|PM)$)|(^(([0-1]?[0-9])|(2[0-3])):\d{2}$)/.test(a.rollOverTime))throw'The `guide.rollOverTime` field expects the string in time format.  Example: "1:00 PM" for 12-hours or "13:00" for 24-hours';N.guide.rollOverTime=a.rollOverTime}if("addFavorite"in t){if(!u(t.addFavorite,"function"))throw"The `addFavorite` field expects a function";N.addFavorite=t.addFavorite}if("removeFavorite"in t){if(!u(t.removeFavorite,"function"))throw"The `removeFavorite` field expects a function";N.removeFavorite=t.removeFavorite}if("getFavorites"in t){if(!u(t.getFavorites,"function"))throw"The `getFavorites` field expects a function";N.getFavorites=t.getFavorites}if("updateHiddenLocations"in t){if(!u(t.updateHiddenLocations,"function"))throw"The `updateHiddenLocations` field expects a function";N.updateHiddenLocations=t.updateHiddenLocations}if("getHiddenLocations"in t){if(!u(t.getHiddenLocations,"function"))throw"The `getHiddenLocations` field expects a function";N.getHiddenLocations=t.getHiddenLocations}N.hasFetched=!0},addFavorite:R,removeFavorite:j,getFavorites:H,updateHiddenLocations:B,getHiddenLocations:G,getEvents:I,getLocations:O,getTimes:P,getFloorPlan:C});const V=e=>({...e,start:new Date(e.start),end:new Date(e.end)}),Z=({events:e,spanState:n,date:t,interval:a,_location:r,currentTime:o})=>{const i=e.find((e=>Number(e.start)===Number(t)&&e.location===r)),l=i||e.find((e=>Number(e.end)>Number(t)&&Number(e.start)<Number(o)&&e.location===r)),c=!!l&&l.start<o,s=l?l.name:"",d=l?"data":"data-empty",p=l?$((l.end-(e=>c?o:e.start)(l))/1e3/60):0,g=p?$(p/a):1,m=n[r]>0;return m?--n[r]:g>1&&(n[r]=g-1),{eventName:s,cellType:d,span:g,blank:m,event:l,hasStarted:c}};const J=({locations:e,hiddenLocations:n,times:t,activeDay:a,activeTime:r,sortBy:o},i)=>{const{days:l,interval:c}=t||g,s=r.toLocaleTimeString([],{hour12:!1,timeStyle:"short"});const d=60*c;return setTimeout((()=>{const e=i.root.querySelector(".pg-checkbox--allHiddenLocations");e.addEventListener("change",(()=>{const n=i.root.querySelectorAll(".pg-checkbox--hiddenLocation");for(const t of n)t.checked=e.checked;i.toggleAllHiddenLocations()}))})),`\n    <section class="pg-dialog-body">\n      <header class="pg-dialog-header">\n        <h1 class="pg-dialog-title">Options</h1>\n        <button class="pg-dialog-close" title="Close" onclick="${E("toggleSortDialog",!1)}"><i class="pg-close-icon" title="Close"></i></button>\n      </header>\n      <section class="pg-dialog-content">\n        <menu class="pg-dialog-menu">\n          <label class="pg-dialog-menu-title">Which day?\n            <select class="pg-dialog-select" onchange="${E("selectActiveDay")}">\n              ${S(Object.keys(l),(e=>`\n                <option value="${e}" ${e===a?"selected":""}>${e}</option>\n              `))}\n            </select>\n          </label>\n        </menu>\n        <menu class="pg-dialog-menu">\n          <h2 class="pg-dialog-menu-title">Schedule View</h2>\n          <button class="pg-dialog-menu-item" onclick="${E("selectSortBy","location")}" autofocus>Location</button>\n          <button class="pg-dialog-menu-item" onclick="${E("selectSortBy","time")}">Time</button>\n          <button class="pg-dialog-menu-item" onclick="${E("selectSortBy","list")}">List</button>\n        </menu>\n        <menu class="pg-dialog-menu">\n          <h2 class="pg-dialog-menu-title">Filter by Time</h2>\n          <button class="pg-dialog-menu-item" onclick="${E("selectSortBy","allTime")}">All Times This Day</button>\n          <button class="pg-dialog-menu-item" onclick="${E("selectSortBy","now")}">Right Now &amp; Onward</button>\n          <button class="pg-dialog-menu-item" onclick="${E("selectSortBy","nowOnly")}">Right Now Only</button>\n          <div class="pg-dialog-menu-special-item">\n            <div class="pg-dialog-menu-item pg-dialog-menu-item--input">\n              <input\n                type="time"\n                class="pg-dialog-menu-input pg-dialog-menu-input--time"\n                value="${s}"\n                \n                step="${d}"\n                onchange="${E("selectActiveTime")}"\n              />\n              <span class="pg-inline-text">&amp; On</span>\n            </div>\n            <button class="pg-dialog-menu-item" onclick="${E("selectSortBy","time")}">Go &roarr;</button>\n          </div>\n        </menu>\n        <menu class="pg-dialog-menu">\n          <h2 class="pg-dialog-menu-title">Filter by Location</h2>\n          <label class="pg-checkbox-wrapper">\n            <input class="pg-checkbox pg-checkbox--allHiddenLocations" type="checkbox" ${e.some((e=>n.includes(e)))?"":"checked"} />\n            <span class="pg-checkbox-text">Toggle All Locations</span>\n          </label>\n          ${S(e,(e=>`\n            <label class="pg-checkbox-wrapper">\n              <input class="pg-checkbox pg-checkbox--hiddenLocation" type="checkbox" onchange="${E("toggleHiddenLocation",e)}" ${n.includes(e)?"":"checked"} />\n              <span class="pg-checkbox-text">${e}</span>\n            </label>\n          `))}\n        </menu>\n        <menu class="pg-dialog-menu">\n          <h2 class="pg-dialog-menu-title">Jump to a Location</h2>\n          ${S(e,(e=>`\n            <a class="pg-dialog-menu-item" href="${(e=>`#View-Location-${e.replace(/[^a-zA-Z0-9]+/g,"-").replace(/^-|-$/g,"")}`)(e)}">${e}</a>\n          `))}\n        </menu>\n      </section>\n    </section>\n  `},q=({favorites:e,activeEvent:n,sortBy:t})=>{const a=e.find((({location:e,start:t,name:a})=>{const{location:r,start:o,name:i}=n;return e===r&&Number(new Date(t))===Number(o)&&a===i})),r=a?"removeFavorite":"addFavorite",o=a?"Remove from Favorites":"Add to Favorites";return`\n    <article class="pg-dialog-body">\n      <header class="pg-dialog-header">\n        <h1 class="pg-dialog-title">${n.name}</h1>\n        <button class="pg-dialog-close" onclick="${E("closeEventDialog")}"><i class="pg-close-icon" title="Close"></i></button>\n      </header>\n      <section class="pg-dialog-content pg-dialog-content--text-container">\n        ${S(n.description.split(/\n/),(e=>`\n          <p class="pg-dialog-paragraph">${e}</p>\n        `))}\n      </section>\n      <footer class="pg-dialog-footer">\n        <time datetime="${n.start.toISOString()}" class="pg-time pg-time--start">\n          ${n.start.toLocaleTimeString("en-US",{timeStyle:"short"})}\n        </time>\n        to\n        <time datetime="${n.end.toISOString()}" class="pg-time pg-time--end">\n          ${n.end.toLocaleTimeString("en-US",{timeStyle:"short"})}\n        </time>\n        <div>@ ${n.location}</div>\n        <div class="pg-dialog-details">\n          <div><strong>Hosted by:</strong> <span>${n.host}</span></div>\n          <div><strong>Category:</strong> <span>${n.category}</span></div>\n        </div>\n      </footer>\n      <section class="pg-dialog-content">\n        <menu class="pg-dialog-menu">\n          <button class="pg-dialog-menu-item" onclick="${E(r,n)}" autofocus>\n            <span>${o}</span>\n            <i class="pg-favorite-icon" title="${o}">&starf;</i>\n          </button>\n          ${"favorites"===t?"":`<button class="pg-dialog-menu-item" onclick="${E("selectSortBy","favorites")}" autofocus>\n                <span>View All Favorites</span>\n                <i class="pg-favorite-icon" title="View All Favorites">&starf;</i>\n              </button>`}\n        </menu>\n      </section>\n    </article>\n  `},W=({activeLocation:e,events:n,times:t,locations:a,hiddenLocations:r,activeDay:o,marker:i})=>{const{days:l,interval:c}=t||g,s={},d=(n,t)=>e===n?t:"",p=l[o],m=a.filter((e=>!r.includes(e)));return`\n    <div class="pg-table-wrapper">\n      <table class="pg-table">\n        <thead class="pg-table-header">\n          <tr class="pg-row">\n            <td class="pg-cell-wrapper pg-cell-wrapper--corner pg-cell-wrapper--corner-collapsed">\n              <div class="pg-cell pg-cell--corner">\n                <span class="pg-corner-text">\n                  <select class="pg-dialog-select" onchange="${E("selectActiveDay")}" autofocus>\n                    ${S(Object.keys(l),(e=>`\n                      <option value="${e}" ${e===o?"selected":""}>${e}</option>\n                    `))}\n                  </select>\n                </span>\n              </div>\n            </td>\n            ${S(m,(e=>`\n              <th\n                class="\n                  pg-cell-wrapper\n                  pg-cell-wrapper--column-header\n                  pg-cell-wrapper--column-header-location\n                  ${d(e,"pg-cell-wrapper--column-header-active")}\n                  ${((e,n)=>i===e?n:"")(e,"pg-cell-wrapper--column-header-active-location")}\n                "\n                onclick="${E("showFloorPlan",e)}"\n              >\n                <div class="pg-cell pg-cell--column-header ${d(e,"pg-cell--column-header-active")}">\n                  <i class="pg-map-icon"></i>\n                  <span class="pg-inline-text">${e}</span>\n                </div>\n              </th>\n            `))}\n          </tr>\n        </thead>\n        <tbody class="pg-body">\n          ${S(p,(({date:e,timeString:t})=>`\n            <tr class="pg-row">\n              <th class="pg-cell-wrapper pg-cell-wrapper--row-header pg-cell-wrapper--row-header-location pg-cell-wrapper--row-header-collapsed" onclick="${E("toggleHeaders")}">\n                <div class="pg-cell pg-cell--row-header pg-cell--row-header-location">${t}</div>\n              </th>\n              ${S(m,(t=>{const{eventName:a,cellType:r,span:o,blank:i,event:l}=Z({events:n,spanState:s,date:e,interval:c,_location:t}),p=(l?(l.end.getTime()-l.start.getTime())/1e3/60:0)===c?36:75;return i?"":`\n                  <td\n                    class="pg-cell-wrapper pg-cell-wrapper--${r} pg-cell-wrapper--${r}-location ${d(t,`pg-cell-wrapper--${r}-active`)}"\n                    rowspan="${o}"\n                    id="${l?L(l):""}"\n                    data-column="${t}"\n                    ${l?`onclick="${E("openEventDialog",l)}"`:""}\n                  >\n                    <div class="pg-cell pg-cell--${r} ${d(t,`pg-cell--${r}-active`)}">${A(a,p)}</div>\n                  </td>\n                `}))}\n            </tr>\n          `))}\n        </tbody>\n      </table>\n    </div>\n  `},Y=({events:e,times:n,locations:t,hiddenLocations:a,sortBy:r,activeTime:o,activeDay:i})=>{const{days:l,interval:c}=n||g,s={},d=l[i],p=x(Date.now(),c),{time:m}=T(p),h={now:d.filter((({date:e})=>e>=p)),nowOnly:d.filter((({date:e})=>e===p)),time:d.filter((({date:e})=>e>=o)),allTime:d}[r],u=h.length?h:[{date:p,timeString:m}],v={now:p,nowOnly:p,time:o,allTime:new Date(0)}[r],f=t.filter((e=>!a.includes(e)));return`\n    <div class="pg-table-wrapper">\n      <table class="pg-table">\n        <thead class="pg-table-header">\n          <tr class="pg-row">\n            <td class="pg-cell-wrapper pg-cell-wrapper--corner pg-cell-wrapper--corner-collapsed">\n              <div class="pg-cell pg-cell--corner">\n                <span class="pg-corner-text">\n                  <select class="pg-dialog-select" onchange="${E("selectActiveDay")}" autofocus>\n                    ${S(Object.keys(l),(e=>`\n                      <option value="${e}" ${e===i?"selected":""}>${e}</option>\n                    `))}\n                  </select>\n                </span>\n              </div>\n            </td>\n            ${S(u,(({date:e,timeString:n})=>`\n              <th class="pg-cell-wrapper pg-cell-wrapper--column-header pg-cell-wrapper--column-header-time ${e===p?"pg-cell-wrapper--column-header-active-time":""}">\n                <div class="pg-cell pg-cell--column-header pg-cell--column-header-time">\n                  <span>${n}</span>\n                  <div>${e===p?"(Current Time)":""}</div>\n                </div>\n              </th>\n            `))}\n          </tr>\n        </thead>\n        <tbody class="pg-body">\n          ${S(f,(n=>`\n            <tr class="pg-row">\n              <th class="pg-cell-wrapper pg-cell-wrapper--row-header pg-cell-wrapper--row-header-${"nowOnly"===r?"now":"time"} pg-cell-wrapper--row-header-collapsed" onclick="${E("toggleHeaders")}">\n                <div class="pg-cell pg-cell--row-header pg-cell--row-header-time" onclick="${E("showFloorPlan",n)}">\n                  <i class="pg-map-icon"></i>\n                  <span class="pg-inline-text">${n}</span>\n                </div>\n              </th>\n              ${S(u,(({date:t})=>{const{eventName:a,cellType:o,span:i,blank:l,event:d,hasStarted:p}=Z({events:e,spanState:s,date:t,interval:c,_location:n,currentTime:v}),g=(d?(d.end.getTime()-d.start.getTime())/1e3/60:0)===c?36:64;return l?"":`\n                  <td\n                    class="pg-cell-wrapper pg-cell-wrapper--${o} pg-cell-wrapper--${o}-${"nowOnly"===r?"now":"time"} ${p?"pg-cell-wrapper--overflow":""}"\n                    colspan="${i}"\n                    id="${d?L(d):""}"\n                    ${d?`onclick="${E("openEventDialog",d)}"`:""}\n                  >\n                    <div class="pg-cell pg-cell--${o} pg-cell--${o}-${"nowOnly"===r?"now":"time"}">${A(a,g)}</div>\n                  </td>\n                `}))}\n            </tr>\n          `))}\n        </tbody>\n      </table>\n    </div>\n  `},Q=e=>new Date(new Date(e).toISOString().slice(0,10)).getTime(),X=({favorites:e,events:n})=>{const t=((e,n)=>{const t=[...e],a=e=>{const t=n.filter((n=>n.name===e.name));if(0===t.length)return null;if(1===t.length)return t[0];{const n=t.find((n=>n.start===e.start));if(n)return n;const a=t.find((n=>{const t=Q(n.start)===Q(e.start),a=n.location===e.location;return t&&a}));if(a)return a;const r=t.find((n=>n.description===e.description));if(r)return r;return t.find((n=>n.location===e.location))||t[0]}};return t.sort(z),t.filter(a).map(a)})(e,n);return`\n    <div class="pg-table-wrapper">\n      <table class="pg-table">\n        <thead class="pg-table-header">\n          <tr class="pg-row">\n            <td class="pg-cell-wrapper pg-cell-wrapper--corner">\n              <div class="pg-cell pg-cell--corner">Favorites</div>\n            </td>\n          </tr>\n        </thead>\n        <tbody class="pg-body">\n          ${0===t.length?'\n                <tr class="pg-row">\n                  <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-favorite">\n                    <div class="pg-cell pg-cell--data pg-cell--data-favorite">You have no favorites.</div>\n                  </td>\n                </tr>\n              ':S(t,(e=>{const{start:n,end:t,name:a,location:r}=e,o=T(n),i=T(t),l=`${o.day} ${o.date}`,c=o.time,s=i.time;return`\n                <tr class="pg-row">\n                  <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-favorite" onclick="${E("openEventDialog",e)}">\n                    <div class="pg-cell pg-cell--data pg-cell--data-favorite">\n                      <span class="pg-search-result-name">${A(a)}</span>\n                      <span class="pg-inline-result-details">${l}</span>\n                      <span class="pg-search-result-details">\n                        <span class="pg-inline-text">${c}</span>\n                        <span class="pg-inline-text">- ${s}</span>\n                        <span class="pg-inline-text"> @ ${r}</span>\n                      </span>\n                    </div>\n                  </td>\n                </tr>\n              `}))}\n        </tbody>\n      </table>\n    </div>\n  `},K=({searchResults:e})=>`\n  <div class="pg-table-wrapper">\n    <table class="pg-table">\n      <thead class="pg-table-header">\n        <tr class="pg-row">\n          <td class="pg-cell-wrapper pg-cell-wrapper--search-header">\n            <div class="pg-cell pg-cell--search-header">Search Results</div>\n          </td>\n        </tr>\n      </thead>\n      <tbody class="pg-body">\n        ${0===e.length?'\n              <tr class="pg-row">\n                <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-search">\n                  <div class="pg-cell pg-cell--data pg-cell--data-search">No results found.</div>\n                </td>\n              </tr>\n            ':S(e,(e=>{const{start:n,end:t,name:a,location:r}=e,o=T(n),i=T(t),l=`${o.day} ${o.date}`,c=o.time,s=i.time;return`\n              <tr class="pg-row">\n                <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-search" onclick="${E("openEventDialog",e)}">\n                  <div class="pg-cell pg-cell--data pg-cell--data-search">\n                    <span class="pg-search-result-name">${A(a)}</span>\n                    <span class="pg-inline-result-details">${l}</span>\n                    <span class="pg-search-result-details">\n                      <span class="pg-inline-text">${c}</span>\n                      <span class="pg-inline-text">- ${s}</span>\n                      <span class="pg-inline-text"> @ ${r}</span>\n                    </span>\n                  </div>\n                </td>\n              </tr>\n            `}))}\n      </tbody>\n    </table>\n  </div>\n`,ee=({floorPlan:e,floorPlanInteractive:n,marker:t})=>{const{title:a,clickableAreas:r,dimensions:o}=e,{height:i,width:l}=o,c=r.length>0&&n,s="none"!==t?((e,n)=>{const t=n.find((({location:n})=>e===n)),a=t.coords.filter(((e,n)=>n%2==0)),r=t.coords.filter(((e,n)=>n%2!=0)),o=Math.min(...a),i=Math.min(...r);return[(o+Math.max(...a))/2,(i+Math.max(...r))/2]})(t,r):[],[d,p]=s,g=n?"Fit to Screen":"Original Size";return`\n    <div class="pg-floor-plan-wrapper">\n      <header class="pg-floor-plan-header">\n        <menu class="pg-floor-plan-menu">\n          <div class="pg-floor-plan-menu-section">\n            <button class="pg-floor-plan-interactive-button" onclick="${E("toggleFloorPlanInteractive",null)}">\n              <i class="pg-search-icon" title="${g}"></i> ${g}\n            </button>\n            ${r.length>0?n?'<span class="pg-inline-text">Select an area for details.</span>':'<span class="pg-inline-text">View original size for more actions.</span>':""}\n          </div>\n        </menu>\n        <h1 class="pg-floor-plan-title">${a}</h1>\n      </header>\n      <div class="pg-floor-plan-container">\n\n        ${c?`\n            <map name="floorPlan" id="floorPlan">\n              ${S(r,(({shape:e,coords:n,href:t,alt:a,location:r})=>{const o=t.startsWith(":")?`http${t}`:t.startsWith("//")?`http:${t}`:t,i=o.startsWith("http")&&new URL(o).hostname!==location.hostname;return`\n                  <area\n                    shape="${e}"\n                    coords="${n.join(",")}"\n                    href="${t}"\n                    ${i?'\n                      target="_blank"\n                      rel="noopener noreferrer"\n                    ':""}\n                    alt="${a??r}"\n                  />\n                `}))}\n            </map>`:""}\n\n        <div\n          class="pg-floor-plan-image-wrapper ${c?"pg-floor-plan-image-wrapper--interactive":""}"\n          onclick="${c?E("showFloorPlanMessage","event","No link was provided for that area."):E("toggleFloorPlanInteractive",!0,"event")}"\n        >\n\n          \x3c!-- This exists to prevent a safari OCR bug from interfering with the image map --\x3e\n          <img\n            class="pg-overlay-image"\n            ${c?'usemap="#floorPlan"':""}\n            height="${i}"\n            width="${l}"\n            src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYjBmOGJlOTAsIDIwMjEvMTIvMTUtMjE6MjU6MTUgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMy4yIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxQUE0RjNBMEE0MDkxMUVDOTAwN0ZBRjQwRjZGNkFBMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxQUE0RjNBMUE0MDkxMUVDOTAwN0ZBRjQwRjZGNkFBMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjFBQTRGMzlFQTQwOTExRUM5MDA3RkFGNDBGNkY2QUEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFBQTRGMzlGQTQwOTExRUM5MDA3RkFGNDBGNkY2QUEyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAQAAAAAsAAAAAAEAAQAAAgJEAQA7"\n          />\n\n          \x3c!-- This gets replaced by the image element stored in memory for optimization --\x3e\n          <img class="pg-floor-plan-image" height="${i}" width="${l}" />\n          ${d&&p&&c?`\n              <div class="pg-floor-plan-marker" style="--x: ${d}px; --y: ${p}px">\n                <i class="pg-map-icon"></i>\n              </div>`:""}\n          <div class="pg-floor-plan-message" role="alert"></div>\n        </div>\n      </div>\n    </div>\n  `},ne=({events:e,hiddenLocations:n,activeDay:t,times:a})=>{const r=[...e].sort(((e,n)=>Number(new Date(e.start))-Number(new Date(n.start)))),{days:o}=a||DEFAULT_TIMES;return`\n    <div class="pg-table-wrapper">\n      <table class="pg-table">\n        <thead class="pg-table-header">\n          <tr class="pg-row">\n            <td class="pg-cell-wrapper pg-cell-wrapper--corner">\n              <div class="pg-cell">\n                <span class="pg-corner-text">\n                  <select class="pg-dialog-select" onchange="${E("selectActiveDay")}" autofocus>\n                    ${S(Object.keys(o),(e=>`\n                      <option value="${e}" ${e===t?"selected":""}>${e}</option>\n                    `))}\n                  </select>\n                </span>\n              </div>\n            </td>\n          </tr>\n        </thead>\n        <tbody class="pg-body">\n          ${S(r,(e=>{const{start:a,end:r,name:o,location:i}=e;if(n.includes(i))return;if(new Date(t).getDate()!==new Date(a).getDate())return;const l=T(a),c=T(r),s=`${l.day} ${l.date}`,d=l.time,p=c.time;return`\n              <tr class="pg-row">\n                <td class="pg-cell-wrapper pg-cell-wrapper--data pg-cell-wrapper--data-favorite" onclick="${E("openEventDialog",e)}">\n                  <div class="pg-cell pg-cell--data pg-cell--data-favorite">\n                    <span class="pg-search-result-name">${o}</span>\n                    <span class="pg-inline-result-details"><strong>Location:</strong> ${i}</span>\n                    <span class="pg-inline-result-details">${s}</span>\n                    <span class="pg-search-result-details">\n                      <span class="pg-inline-text">${d}</span>\n                      <span class="pg-inline-text">- ${p}</span>\n                    </span>\n                  </div>\n                </td>\n              </tr>\n            `}))}\n        </tbody>\n      </table>\n    </div>\n  `};var te={};if("undefined"==typeof window){function e(e,n){var t="";return t=n?"Cannot access property `dialogPolyfill."+e+"` on the server side.":"Cannot execute `dialogPolyfill."+e+"()` on the server side.",function(){throw new Error(t)}}te.registerDialog=e("registerDialog"),te.forceRegisterDialog=e("forceRegisterDialog"),te.reposition=e("reposition"),te.isInlinePositionSetByStylesheet=e("isInlinePositionSetByStylesheet"),te.needsCentering=e("needsCentering"),te.DialogManager=e("DialogManager"),Object.defineProperties(te,{dm:{get:e("dm",!0)},formSubmitter:{get:e("formSubmitter",!0)},imagemapUseValue:{get:e("imagemapUseValue",!0)}})}else{var ae=window.CustomEvent;function e(e,n){var t="on"+n.type.toLowerCase();return"function"==typeof e[t]&&e[t](n),e.dispatchEvent(n)}function n(e){for(;e&&e!==document.body;){var n=window.getComputedStyle(e),t=function(e,t){return!(void 0===n[e]||n[e]===t)};if(n.opacity<1||t("zIndex","auto")||t("transform","none")||t("mixBlendMode","normal")||t("filter","none")||t("perspective","none")||"isolate"===n.isolation||"fixed"===n.position||"touch"===n.webkitOverflowScrolling)return!0;e=e.parentElement}return!1}function t(e){for(;e;){if("dialog"===e.localName)return e;e=e.parentElement?e.parentElement:e.parentNode?e.parentNode.host:null}return null}function a(e){for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;e&&e.blur&&e!==document.body&&e.blur()}function r(e,n){for(var t=0;t<e.length;++t)if(e[t]===n)return!0;return!1}function o(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function i(e){var n=["button","input","keygen","select","textarea"].map((function(e){return e+":not([disabled])"}));n.push('[tabindex]:not([disabled]):not([tabindex=""])');var t=e.querySelector(n.join(", "));if(!t&&"attachShadow"in Element.prototype)for(var a=e.querySelectorAll("*"),r=0;r<a.length&&!(a[r].tagName&&a[r].shadowRoot&&(t=i(a[r].shadowRoot)));r++);return t}function l(e){return e.isConnected||document.body.contains(e)}function c(e){if(e.submitter)return e.submitter;var n=e.target;if(!(n instanceof HTMLFormElement))return null;var t=te.formSubmitter;if(!t){var a=e.target;t=("getRootNode"in a&&a.getRootNode()||document).activeElement}return t&&t.form===n?t:null}function s(e){if(!e.defaultPrevented){var n=e.target,a=te.imagemapUseValue,r=c(e);null===a&&r&&(a=r.value);var o=t(n);if(o)"dialog"===(r&&r.getAttribute("formmethod")||n.getAttribute("method"))&&(e.preventDefault(),null!=a?o.close(a):o.close())}}function d(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),e.addEventListener("submit",s,!1),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var n,t=!1,a=function(){t?this.downgradeModal():this.maybeHideModal(),t=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved";t|=r.type.substr(0,o.length)===o,window.clearTimeout(n),n=window.setTimeout(a,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(n){e.addEventListener(n,r)}))}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("mouseup",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("mousedown",this.backdropMouseEvent_.bind(this)),this.backdrop_.addEventListener("click",this.backdropMouseEvent_.bind(this))}if(ae&&"object"!=typeof ae||((ae=function(e,n){n=n||{};var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail||null),t}).prototype=window.Event.prototype),d.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&l(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),te.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropMouseEvent_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var n=document.createElement("div");this.dialog_.insertBefore(n,this.dialog_.firstChild),n.tabIndex=-1,n.focus(),this.dialog_.removeChild(n)}var t=document.createEvent("MouseEvents");t.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(t),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])");!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),e||(e=i(this.dialog_)),a(document.activeElement),e&&e.focus()},updateZIndex:function(e,n){if(e<n)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=n},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!l(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!te.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");n(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,te.needsCentering(this.dialog_)?(te.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(n){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==n&&(this.dialog_.returnValue=n);var t=new ae("close",{bubbles:!1,cancelable:!1});e(this.dialog_,t)}},te.reposition=function(e){var n=document.body.scrollTop||document.documentElement.scrollTop,t=n+(window.innerHeight-e.offsetHeight)/2;e.style.top=Math.max(n,t)+"px"},te.isInlinePositionSetByStylesheet=function(e){for(var n=0;n<document.styleSheets.length;++n){var t=document.styleSheets[n],a=null;try{a=t.cssRules}catch(e){}if(a)for(var o=0;o<a.length;++o){var i=a[o],l=null;try{l=document.querySelectorAll(i.selectorText)}catch(e){}if(l&&r(l,e)){var c=i.style.getPropertyValue("top"),s=i.style.getPropertyValue("bottom");if(c&&"auto"!==c||s&&"auto"!==s)return!0}}}return!1},te.needsCentering=function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!te.isInlinePositionSetByStylesheet(e))},te.forceRegisterDialog=function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new d(e)},te.registerDialog=function(e){e.showModal||te.forceRegisterDialog(e)},te.DialogManager=function(){this.pendingDialogStack=[];var e=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(n){this.forwardTab_=void 0,n.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(n){var t=[];n.forEach((function(e){for(var n,a=0;n=e.removedNodes[a];++a)n instanceof Element&&("dialog"===n.localName&&t.push(n),t=t.concat(n.querySelectorAll("dialog")))})),t.length&&e(t)})))},te.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},te.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},te.DialogManager.prototype.updateStacking=function(){for(var e,n=this.zIndexHigh_,t=0;e=this.pendingDialogStack[t];++t)e.updateZIndex(--n,--n),0===t&&(this.overlay.style.zIndex=--n);var a=this.pendingDialogStack[0];a?(a.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},te.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=t(e);){for(var n,a=0;n=this.pendingDialogStack[a];++a)if(n.dialog===e)return 0===a;e=e.parentElement}return!1},te.DialogManager.prototype.handleFocus_=function(e){var n=e.composedPath?e.composedPath()[0]:e.target;if(!this.containedByTopDialog_(n)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),a(n),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0];return t.dialog.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():n!==document.documentElement&&document.documentElement.focus()),!1}},te.DialogManager.prototype.handleKey_=function(n){if(this.forwardTab_=void 0,27===n.keyCode){n.preventDefault(),n.stopPropagation();var t=new ae("cancel",{bubbles:!1,cancelable:!0}),a=this.pendingDialogStack[0];a&&e(a.dialog,t)&&a.dialog.close()}else 9===n.keyCode&&(this.forwardTab_=!n.shiftKey)},te.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach((function(n){-1!==e.indexOf(n.dialog)?n.downgradeModal():n.maybeHideModal()}))},te.DialogManager.prototype.pushDialog=function(e){var n=(this.zIndexHigh_-this.zIndexLow_)/2-1;return!(this.pendingDialogStack.length>=n)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},te.DialogManager.prototype.removeDialog=function(e){var n=this.pendingDialogStack.indexOf(e);-1!==n&&(this.pendingDialogStack.splice(n,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},te.dm=new te.DialogManager,te.formSubmitter=null,te.imagemapUseValue=null,void 0===window.HTMLDialogElement){var re=document.createElement("form");if(re.setAttribute("method","dialog"),"dialog"!==re.method){var oe=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(oe){var ie=oe.get;oe.get=function(){return o(this)?"dialog":ie.call(this)};var le=oe.set;oe.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):le.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",oe)}}document.addEventListener("click",(function(e){if(te.formSubmitter=null,te.imagemapUseValue=null,!e.defaultPrevented){var n=e.target;if("composedPath"in e)n=e.composedPath().shift()||n;if(n&&o(n.form)){if(!("submit"===n.type&&["button","input"].indexOf(n.localName)>-1)){if("input"!==n.localName||"image"!==n.type)return;te.imagemapUseValue=e.offsetX+","+e.offsetY}t(n)&&(te.formSubmitter=n)}}}),!1),document.addEventListener("submit",(function(e){var n=e.target;if(!t(n)){var a=c(e);"dialog"===(a&&a.getAttribute("formmethod")||n.getAttribute("method"))&&e.preventDefault()}}));var ce=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!o(this))return ce.call(this);var e=t(this);e&&e.close()}}}const se=({state:e,component:n})=>async({initializing:t}={})=>{const{root:a,dataset:r,templateCache:o}=n;y(a);const{css:i,breakpoint:l}=r,c=i||(e=>`\n\n/* browser defaults for dialog element */\n\ndialog {\n  position: absolute;\n  left: 0; right: 0;\n  width: -moz-fit-content;\n  width: -webkit-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: -webkit-fit-content;\n  height: fit-content;\n  margin: auto;\n  border: solid;\n  padding: 1em;\n  background: white;\n  color: black;\n  display: block;\n}\n\ndialog:not([open]) {\n  display: none;\n}\n\ndialog + .backdrop {\n  position: fixed;\n  top: 0; right: 0; bottom: 0; left: 0;\n  background: rgba(0,0,0,0.1);\n}\n\n._dialog_overlay {\n  position: fixed;\n  top: 0; right: 0; bottom: 0; left: 0;\n}\n\ndialog.fixed {\n  position: fixed;\n  top: 50%;\n  transform: translate(0, -50%);\n}\n\n\n.pg-header {\n  background-color: var(--color-background);\n  display: grid;\n  grid-template-columns: 1fr auto;\n}\n\n.pg-maximize-button {\n  background-color: var(--color-header);\n  border: var(--rem-0-2) solid var(--color-background);\n  border-left-width: 0;\n  border-bottom-width: 0;\n  color: var(--color-header-content);\n  cursor: pointer;\n  margin: 0;\n}\n\n.pg-maximized {\n  display: grid;\n  grid-template-rows: auto 1fr;\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  inset: 0;\n  margin: auto;\n  z-index: var(--max-z-index);\n}\n\n.pg-maximized .pg-table-wrapper,\n.pg-maximized .pg-floor-plan-wrapper {\n  height: 100%;\n  max-height: none;\n  margin-bottom: 0;\n}\n\n.pg-inline-text {\n  display: inline-block;\n}\n\n.pg-checkbox-wrapper {\n  display: block;\n  padding: 0.2rem 0;\n  font-size: 1rem;\n}\n\n.pg-checkbox {\n  font-size: 2rem;\n  height: 1.5rem;\n  width: 1.5rem;\n  vertical-align: middle;\n}\n\n.pg-checkbox-text {\n  vertical-align: middle;\n}\n\n\n\n/* remove browser defaults so fonts can be fully customized */\n:host, button, input {\n  font-family: var(--font-secondary);\n  font-size: inherit;\n}\n\n:host {\n  display: block;\n\n  /* general fonts */\n  --font: inherit;\n  --font-secondary: var(--font);\n  --font-size: 1rem; /* This sizes everything relatively */\n\n  /* specific fonts */\n  --font-header: var(--font);\n  --font-content: var(--font-secondary);\n  --font-column-header: var(--font-header);\n  --font-row-header: var(--font-header);\n\n  /* padding */\n  --padding-cell: var(--font-size) calc(var(--font-size) * 2);\n  --padding-header: var(--padding-cell);\n  --padding-column-header: var(--padding-header);\n  --padding-row-header: var(--padding-header);\n\n  /* general colors */\n  --color-primary: lightsteelblue;\n  --color-primary-contrast: black;\n  --color-secondary: steelblue;\n  --color-secondary-contrast: white;\n  --color-tertiary: midnightblue;\n  --color-tertiary-contrast: white;\n\n  /* specific colors */\n  --color-background: var(--color-tertiary);\n  --color-foreground: var(--color-tertiary-contrast);\n  --color-cell: var(--color-primary);\n  --color-empty: transparent;\n  --color-content: var(--color-primary-contrast);\n  --color-header: var(--color-secondary);\n  --color-header-content: var(--color-secondary-contrast);\n  --color-column-header: var(--color-header);\n  --color-column-header-content: var(--color-header-content);\n  --color-row-header: var(--color-header);\n  --color-row-header-content: var(--color-header-content);\n  --color-corner: var(--color-header);\n  --color-corner-content: var(--color-header-content);\n  --color-loading-primary: var(--color-secondary);\n  --color-loading-secondary: var(--color-tertiary-contrast);\n\n  /* The max z-index determines the z-index value of full-screen mode */\n  --max-z-index: 9999;\n}\n\n/* set all children to the base font size */\n:host > * {\n  font-size: var(--font-size);\n\n  /* simulate rems to treat the host element as the root */\n  --rem: var(--font-size);\n  --rem-0-1: calc(var(--rem) * 0.1);\n  --rem-0-2: calc(var(--rem) * 0.2);\n  --rem-0-3: calc(var(--rem) * 0.3);\n  --rem-0-4: calc(var(--rem) * 0.4);\n  --rem-0-5: calc(var(--rem) * 0.5);\n  --rem-0-6: calc(var(--rem) * 0.6);\n  --rem-0-7: calc(var(--rem) * 0.7);\n  --rem-0-8: calc(var(--rem) * 0.8);\n  --rem-0-9: calc(var(--rem) * 0.9);\n  --rem-1: var(--rem);\n  --rem-1-1: calc(var(--rem) * 1.1);\n  --rem-1-2: calc(var(--rem) * 1.2);\n  --rem-1-3: calc(var(--rem) * 1.3);\n  --rem-1-4: calc(var(--rem) * 1.4);\n  --rem-1-5: calc(var(--rem) * 1.5);\n  --rem-1-6: calc(var(--rem) * 1.6);\n  --rem-1-7: calc(var(--rem) * 1.7);\n  --rem-1-8: calc(var(--rem) * 1.8);\n  --rem-1-9: calc(var(--rem) * 1.9);\n  --rem-2: calc(var(--rem) * 2);\n  --rem-2-1: calc(var(--rem) * 2.1);\n  --rem-2-2: calc(var(--rem) * 2.2);\n  --rem-2-3: calc(var(--rem) * 2.3);\n  --rem-2-4: calc(var(--rem) * 2.4);\n  --rem-2-5: calc(var(--rem) * 2.5);\n  --rem-2-6: calc(var(--rem) * 2.6);\n  --rem-2-7: calc(var(--rem) * 2.7);\n  --rem-2-8: calc(var(--rem) * 2.8);\n  --rem-2-9: calc(var(--rem) * 2.9);\n  --rem-3: calc(var(--rem) * 3);\n  --rem-3-1: calc(var(--rem) * 3.1);\n  --rem-3-2: calc(var(--rem) * 3.2);\n  --rem-3-3: calc(var(--rem) * 3.3);\n  --rem-3-4: calc(var(--rem) * 3.4);\n  --rem-3-5: calc(var(--rem) * 3.5);\n  --rem-3-6: calc(var(--rem) * 3.6);\n  --rem-3-7: calc(var(--rem) * 3.7);\n  --rem-3-8: calc(var(--rem) * 3.8);\n  --rem-3-9: calc(var(--rem) * 3.9);\n  --rem-4: calc(var(--rem) * 4);\n  --rem-4-1: calc(var(--rem) * 4.1);\n  --rem-4-2: calc(var(--rem) * 4.2);\n  --rem-4-3: calc(var(--rem) * 4.3);\n  --rem-4-4: calc(var(--rem) * 4.4);\n  --rem-4-5: calc(var(--rem) * 4.5);\n  --rem-4-6: calc(var(--rem) * 4.6);\n  --rem-4-7: calc(var(--rem) * 4.7);\n  --rem-4-8: calc(var(--rem) * 4.8);\n  --rem-4-9: calc(var(--rem) * 4.9);\n  --rem-5: calc(var(--rem) * 5);\n  --rem-5-1: calc(var(--rem) * 5.1);\n  --rem-5-2: calc(var(--rem) * 5.2);\n  --rem-5-3: calc(var(--rem) * 5.3);\n  --rem-5-4: calc(var(--rem) * 5.4);\n  --rem-5-5: calc(var(--rem) * 5.5);\n  --rem-5-6: calc(var(--rem) * 5.6);\n  --rem-5-7: calc(var(--rem) * 5.7);\n  --rem-5-8: calc(var(--rem) * 5.8);\n  --rem-5-9: calc(var(--rem) * 5.9);\n  --rem-6: calc(var(--rem) * 6);\n  --rem-6-1: calc(var(--rem) * 6.1);\n  --rem-6-2: calc(var(--rem) * 6.2);\n  --rem-6-3: calc(var(--rem) * 6.3);\n  --rem-6-4: calc(var(--rem) * 6.4);\n  --rem-6-5: calc(var(--rem) * 6.5);\n  --rem-6-6: calc(var(--rem) * 6.6);\n  --rem-6-7: calc(var(--rem) * 6.7);\n  --rem-6-8: calc(var(--rem) * 6.8);\n  --rem-6-9: calc(var(--rem) * 6.9);\n  --rem-7: calc(var(--rem) * 7);\n  --rem-7-1: calc(var(--rem) * 7.1);\n  --rem-7-2: calc(var(--rem) * 7.2);\n  --rem-7-3: calc(var(--rem) * 7.3);\n  --rem-7-4: calc(var(--rem) * 7.4);\n  --rem-7-5: calc(var(--rem) * 7.5);\n  --rem-7-6: calc(var(--rem) * 7.6);\n  --rem-7-7: calc(var(--rem) * 7.7);\n  --rem-7-8: calc(var(--rem) * 7.8);\n  --rem-7-9: calc(var(--rem) * 7.9);\n  --rem-8: calc(var(--rem) * 8);\n  --rem-8-1: calc(var(--rem) * 8.1);\n  --rem-8-2: calc(var(--rem) * 8.2);\n  --rem-8-3: calc(var(--rem) * 8.3);\n  --rem-8-4: calc(var(--rem) * 8.4);\n  --rem-8-5: calc(var(--rem) * 8.5);\n  --rem-8-6: calc(var(--rem) * 8.6);\n  --rem-8-7: calc(var(--rem) * 8.7);\n  --rem-8-8: calc(var(--rem) * 8.8);\n  --rem-8-9: calc(var(--rem) * 8.9);\n  --rem-9: calc(var(--rem) * 9);\n  --rem-9-1: calc(var(--rem) * 9.1);\n  --rem-9-2: calc(var(--rem) * 9.2);\n  --rem-9-3: calc(var(--rem) * 9.3);\n  --rem-9-4: calc(var(--rem) * 9.4);\n  --rem-9-5: calc(var(--rem) * 9.5);\n  --rem-9-6: calc(var(--rem) * 9.6);\n  --rem-9-7: calc(var(--rem) * 9.7);\n  --rem-9-8: calc(var(--rem) * 9.8);\n  --rem-9-9: calc(var(--rem) * 9.9);\n  --rem-10: calc(var(--rem) * 10);\n\n  /* odd sizes */\n  --rem--11: calc(var(--rem) * -11);\n  --rem--2: calc(var(--rem) * -2);\n  --rem--1-8: calc(var(--rem) * -1.8);\n  --rem--0-5: calc(var(--rem) * -0.5);\n  --rem--0-4: calc(var(--rem) * -0.4);\n  --rem--0-2: calc(var(--rem) * -0.2);\n  --rem--0-15: calc(var(--rem) * -0.15);\n  --rem--0-1: calc(var(--rem) * -0.1);\n  --rem-0-37: calc(var(--rem) * 0.37);\n  --rem-0-75: calc(var(--rem) * 0.75);\n  --rem-10-2: calc(var(--rem) * 10.2);\n  --rem-14: calc(var(--rem) * 14);\n  --rem-38: calc(var(--rem) * 38);\n  --rem-40: calc(var(--rem) * 40);\n  --rem-53--3: calc(var(--rem) * 53.3);\n  --rem-60: calc(var(--rem) * 60);\n}\n\n\n.pg-loading {\n  --size-loader: var(--rem-8);\n  background-color: var(--color-background);\n  height: var(--rem-53--3);\n  width: 100%;\n  position: relative;\n  z-index: 1;\n}\n.pg-loading:before,\n.pg-loading:after {\n  bottom: 0;\n  border-radius: 50%;\n  content: '';\n  display: block;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: 2;\n}\n@keyframes spin {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(359deg); }\n}\n.pg-loading:before {\n  animation: spin 1s linear infinite;\n  background-image: conic-gradient(var(--color-loading-primary), var(--color-loading-secondary));\n  border: 0.4em solid var(--color-loading-primary);\n  height: var(--size-loader);\n  width: var(--size-loader);\n  z-index: 1;\n}\n.pg-loading:after {\n  background-color: var(--color-loading-primary);\n  border: 0 solid;\n  height: calc(var(--size-loader) - 1em);\n  width: calc(var(--size-loader) - 1em);\n  z-index: 2;\n}\n\n\n.pg-search-bar {\n  background-color: var(--color-background);\n  display: grid;\n  gap: var(--rem-0-2);\n  grid-template-columns: 1fr auto;\n  margin: 0;\n  padding: var(--rem-0-2) var(--rem-0-2) 0;\n}\n.pg-search-icon {\n  border: var(--rem-0-2) solid;\n  border-radius: 50%;\n  display: block;\n  height: var(--rem-0-8);\n  position: relative;\n  transform: translate(var(--rem--0-15), var(--rem--0-1));\n  width: var(--rem-0-8);\n}\n.pg-search-icon:after {\n  background-color: var(--color-content);\n  bottom: -0.2em;\n  content: '';\n  display: block;\n  height: 0.2em;\n  width: 0.5em;\n  position: absolute;\n  right: -0.4em;\n  transform: rotate(45deg);\n}\n.pg-search-input,\n.pg-search-button {\n  align-items: center;\n  background-color: var(--color-cell);\n  border: none;\n  box-shadow: 0 0 var(--rem-1-2) rgba(0, 0, 0, 0.5);\n  color: var(--color-content);\n  cursor: pointer;\n  display: flex;\n  gap: var(--rem-0-5);\n  justify-content: center;\n  padding: var(--rem-1) var(--rem-0-5);\n}\n.pg-search-input {\n  cursor: text;\n}\n.pg-search-input,\n.pg-search-button {\n  padding: var(--rem-0-5) var(--rem-1);\n}\n.pg-search-input {\n  min-width: 0;\n}\n\n\n  .pg-main-menu {\n    display: grid;\n    gap: var(--rem-1);\n    grid-column-end: span 2;\n    grid-template-columns: repeat(5, 1fr);\n    overflow: auto;\n    margin: 0 auto;\n    max-width: 100%;\n    padding: 0;\n  }\n  .pg-main-menu-button {\n    align-items: flex-end;\n    background-color: transparent;\n    border: none;\n    color: var(--color-foreground);\n    cursor: pointer;\n    display: grid;\n    gap: var(--rem-0-5);\n    height: var(--rem-6);\n    padding: var(--rem-0-5);\n    justify-items: center;\n  }\n\n\n.pg-table-wrapper {\n  background-color: var(--color-background);\n  display: grid;\n  grid-template-columns: minmax(0, 1fr);\n  height: var(--rem-60);\n  max-height: 60vh;\n  max-width: 100%;\n  margin-bottom: var(--rem-1);\n  overflow: auto;\n  position: relative;\n  z-index: 0;\n}\n.pg-table {\n  width: 100%;\n}\n.pg-cell-wrapper {\n  background-color: var(--color-cell);\n  font-family: var(--font-content);\n  padding: var(--padding-cell);\n  position: relative;\n  text-align: center;\n}\n.pg-cell-wrapper--overflow:before {\n  content: '\\2039';\n  font-size: 2.5em;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  line-height: 2.5em;\n}\n.pg-cell-wrapper--search-header,\n.pg-cell-wrapper--row-header,\n.pg-cell-wrapper--corner {\n  border-right: var(--rem-0-1) solid var(--color-background);\n  left: 0;\n  position: sticky;\n  width: 0; /* columns size to the minimum width */\n  z-index: 1;\n}\n.pg-cell-wrapper--search-header,\n.pg-cell-wrapper--corner {\n  background-color: var(--color-corner);\n  border-bottom: var(--rem-0-1) solid var(--color-background);\n  color: var(--color-corner-content);\n  top: 0;\n  z-index: 2;\n}\n.pg-cell-wrapper--row-header {\n  background-color: var(--color-row-header);\n  box-shadow: 0 var(--rem-0-2) 0 var(--color-background);\n  color: var(--color-row-header-content);\n  font-family: var(--font-row-header);\n  padding: var(--padding-row-header);\n  text-align: right;\n}\n.pg-cell-wrapper--row-header-time {\n  padding-right: var(--rem-4);\n  padding-left: var(--rem-0-5);\n}\n.pg-cell--corner,\n.pg-cell--row-header {\n  margin: auto;\n  width: var(--rem-9);\n}\n.pg-cell--row-header-time,\n.pg-cell--row-header-location {\n  height: 100%;\n  min-height: var(--rem-5);\n  user-select: none;\n}\n.pg-cell--row-header-time {\n  cursor: pointer;\n}\n.pg-cell-wrapper--row-header .pg-cell {\n  align-items: center;\n  display: grid;\n  gap: var(--rem-0-5);\n  grid-template-columns: auto 1fr;\n}\n.pg-cell--data {\n  position: sticky;\n  left: var(--rem-14);\n  width: fit-content;\n  z-index: 0;\n  top: var(--rem-8);\n}\n.pg-cell--data-time {\n  max-width: 18ch;\n}\n.pg-cell--data-search,\n.pg-cell--data-favorite {\n  display: grid;\n  left: 0;\n  justify-content: center;\n  margin: auto;\n  text-align: center;\n}\n.pg-search-result-name {\n  font-weight: bold;\n  padding-bottom: var(--rem-0-8);\n}\n.pg-cell-wrapper--column-header {\n  background-color: var(--color-column-header);\n  border-bottom: var(--rem-0-1) solid var(--color-background);\n  color: var(--color-column-header-content);\n  font-family: var(--font-column-header);\n  padding: var(--padding-column-header);\n  position: sticky;\n  top: 0;\n  z-index: 1;\n}\n.pg-cell-wrapper--column-header-location {\n  cursor: pointer;\n}\n.pg-cell-wrapper--column-header-active-location,\n.pg-cell-wrapper--column-header-active-time {\n  filter: brightness(1.3);\n}\n.pg-cell-wrapper--column-header-active-time > .pg-cell {\n  grid-template-columns: 1fr;\n  gap: 0;\n}\n.pg-cell--column-header {\n  align-items: center;\n  display: grid;\n  gap: var(--rem-1);\n  grid-template-columns: auto 1fr;\n  justify-content: center;\n  min-width: var(--rem-8);\n}\n.pg-cell-wrapper--data {\n  cursor: pointer;\n  text-align: left;\n  vertical-align: top;\n}\n.pg-cell-wrapper--data-empty {\n  background-color: var(--color-empty);\n}\n.pg-time {\n  display: inline-block;\n  font-weight: bold;\n}\n\n\n.pg-favorite-icon,\n.pg-prev-icon {\n  font-size: var(--rem-2);\n  font-style: normal;\n  line-height: var(--rem-2);\n}\n.pg-more-icon {\n  background-color: var(--color-header);\n  border: var(--rem-0-8) solid var(--color-header-content);\n  display: block;\n  position: relative;\n  vertical-align: middle;\n  z-index: 0;\n}\n.pg-more-icon,\n.pg-more-icon:before,\n.pg-more-icon:after {\n  border-radius: 50%;\n  height: 0.4em;\n  width: 0.4em;\n}\n.pg-more-icon:before,\n.pg-more-icon:after {\n  background-color: var(--color-header);\n  border: 0 solid;\n  content: '';\n  display: block;\n  position: absolute;\n  top: 0;\n  z-index: 1;\n}\n.pg-more-icon:before {\n  left: -0.5em;\n}\n.pg-more-icon:after {\n  right: -0.5em;\n}\n.pg-close-icon {\n  height: 100%;\n  display: block;\n  position: relative;\n  width: 100%;\n}\n.pg-close-icon:before,\n.pg-close-icon:after {\n  background-color: var(--color-header);\n  bottom: 0;\n  content: '';\n  display: block;\n  height: 1.3em;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 0.2em;\n}\n.pg-close-icon:before {\n  transform: rotate(45deg);\n}\n.pg-close-icon:after {\n  transform: rotate(-45deg);\n}\n.pg-map-icon {\n  --color: var(--color-header-content);\n  display: inline-block;\n  height: 1.5em;\n  width: 1.5em;\n  margin-bottom: 0.5em;\n  position: relative;\n  vertical-align: middle;\n  z-index: 0;\n}\n.pg-map-icon:before {\n  border: 0.37em solid var(--color);\n  border-radius: 50%;\n  content: '';\n  display: block;\n  height: 0.75em;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 0.75em;\n  z-index: 1;\n}\n.pg-map-icon:after {\n  border: 0.5em solid var(--color);\n  border-top-color: transparent;\n  border-left-color: transparent;\n  border-radius: 20%;\n  bottom: 0;\n  content: '';\n  display: block;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transform: translateY(0.3em) scaleX(0.7) rotate(45deg);\n  z-index: 0;\n}\n.pg-print-icon {\n  color: var(--color);\n  position: relative;\n  width: 1.5rem;\n  height: 0.6rem;\n  border-radius: 0.1rem 0.1rem 0 0;\n  border: solid 0.1rem currentColor;\n  background-color: currentColor;\n}\n.pg-print-icon:before {\n  content: '';\n  position: absolute;\n  left: 0.2rem;\n  top: -0.3rem;\n  height: 1.3rem;\n  width: 0.9rem;\n  border: solid 0.1rem currentColor;\n  background-color: var(--color-header);\n}\n.pg-print-icon:after {\n  content: '';\n  position: absolute;\n  left: 0.1rem;\n  top: -0.1rem;\n  width: 1.3rem;\n  height: 0.3rem;\n  border-top: solid 0.1rem currentColor;\n  border-bottom: solid 0.1rem currentColor;\n  background-color: currentColor;\n}\n\n\n.pg-dialog {\n  background-color: var(--color-header);\n  bottom: 0;\n  border: 0 solid;\n  border-radius: var(--rem-0-5);\n  box-shadow: 0 0 var(--rem-1) rgba(0, 0, 0, 0.5);\n  box-sizing: border-box;\n  color: var(--color-header-content);\n  height: max-content;\n  left: 0;\n  margin: auto;\n  max-height: 100%;\n  max-width: var(--rem-40);\n  min-height: var(--rem-40);\n  overflow: hidden;\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: calc(100% - var(--rem-0-5));\n  z-index: 2;\n}\n.pg-dialog + .backdrop {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n/* ::backdrop must be kept separate because of safari */\n.pg-dialog::backdrop {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.pg-dialog-header {\n  display: grid;\n  grid-template-columns: 1fr auto;\n  position: relative;\n}\n.pg-dialog-title {\n  margin: 0;\n}\n.pg-dialog-details {\n  padding-top: var(--rem-1);\n}\n.pg-dialog-select {\n  border: 0 solid;\n  border-radius: var(--rem-0-3);\n  padding: var(--rem-0-5);\n  width: 100%;\n}\n.pg-dialog-close {\n  align-items: center;\n  background-color: var(--color-header-content);\n  border: 0 solid;\n  border-radius: 50%;\n  color: var(--color-header);\n  cursor: pointer;\n  display: flex;\n  height: var(--rem-2);\n  justify-content: center;\n  width: var(--rem-2);\n}\n.pg-dialog-menu {\n  display: grid;\n  gap: var(--rem-0-5);\n  margin: 0 auto;\n  max-width: var(--rem-30);\n  padding: var(--rem-2) var(--rem-2) 0;\n}\n.pg-dialog-menu-title {\n  align-items: center;\n  display: grid;\n  gap: var(--rem-1);\n  grid-auto-flow: column;\n  width: max-content;\n  margin: 0 auto;\n}\n.pg-dialog-menu-item {\n  align-items: center;\n  background-color: var(--color-cell);\n  border: none;\n  box-shadow: 0 0 var(--rem-1-2) rgba(0, 0, 0, 0.5);\n  color: var(--color-content);\n  cursor: pointer;\n  display: flex;\n  gap: var(--rem-0-5);\n  justify-content: center;\n  padding: var(--rem-1) var(--rem-0-5);\n  text-decoration: none;\n}\n.pg-dialog-menu-item-hidden {\n  opacity: 0.65;\n}\n.pg-dialog-menu-item--input,\n.pg-dialog-menu-input {\n  cursor: text;\n}\n.pg-dialog-menu-input {\n  background-color: transparent;\n  border: none;\n}\n.pg-dialog-menu-input--time {\n  width: var(--rem-10-2);\n}\n.pg-dialog-menu-special-item {\n  display: grid;\n  gap: var(--rem-0-5);\n  grid-template-columns: 2fr 1fr;\n}\n.pg-dialog-body {\n  display: grid;\n  grid-auto-rows: auto;\n  grid-template-rows: auto minmax(0, 1fr);\n  height: 100%;\n  max-height: calc(100vh - var(--rem-9-2));\n  min-height: var(--rem-38);\n  font-size: var(--font-size);\n  overflow: hidden;\n  position: relative;\n}\n.pg-dialog-body:before,\n.pg-dialog-body:after {\n  content: '\\02771';\n  color: var(--color-header);\n  display: inline-block;\n  height: 1em;\n  left: 0;\n  font-size: 3em;\n  line-height: 1em;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  width: 1em;\n}\n.pg-dialog-body:before {\n  top: 0.36em;\n  transform: rotate(-90deg);\n}\n.pg-dialog-body:after {\n  bottom: -0.5em;\n  transform: rotate(90deg);\n}\n.pg-dialog-content {\n  overflow: auto;\n  padding-bottom: var(--rem-2);\n  margin-top: var(--rem-1);\n}\n.pg-dialog-content--text-container,\n.pg-dialog-footer {\n  background-color: var(--color-cell);\n  border: 0 solid;\n  border-radius: var(--rem-0-5);\n  color: var(--color-content);\n  margin: var(--rem-2) 0 0;\n  text-align: center;\n}\n.pg-dialog-content--text-container:after {\n  background-image: linear-gradient(transparent, var(--color-cell) 90%);\n  bottom: var(--rem--2);\n  content: '';\n  display: block;\n  height: var(--rem-4);\n  left: 0;\n  position: sticky;\n  width: 100%;\n}\n.pg-dialog-paragraph {\n  margin: 0;\n  padding: var(--rem-1);\n}\n.pg-dialog-footer {\n  padding: var(--rem-1);\n}\n\n\n.pg-floor-plan-wrapper {\n  background-color: var(--color-background);\n  margin-bottom: var(--rem-1);\n  height: var(--rem-60);\n  max-height: 60vh;\n  overflow: auto;\n  position: relative;\n  z-index: 0;\n}\n.pg-floor-plan-header {\n  align-items: center;\n  background-color: var(--color-header);\n  border: var(--rem-0-2) solid var(--color-background);\n  display: grid;\n  grid-template-areas: "view title";\n  grid-template-columns: auto 1fr;\n  position: sticky;\n  left: 0;\n  top: 0;\n  z-index: 1;\n}\n.pg-floor-plan-menu-button {\n  border: 0 solid;\n  background-color: transparent;\n  cursor: pointer;\n  padding: var(--rem-1) var(--rem-1-3);\n}\n.pg-floor-plan-title {\n  color: var(--color-header-content);\n  font-size: larger;\n  grid-area: title;\n  margin: 0;\n  padding: var(--rem-1);\n  text-align: right;\n}\n.pg-floor-plan-container {\n  display: grid;\n  grid-template-columns: minmax(0, 1fr);\n  padding: var(--rem-0) var(--rem-0-2) var(--rem-0-2);\n  position: relative;\n}\n.pg-floor-plan-image-wrapper {\n  cursor: pointer;\n  margin: 0 auto;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n}\n.pg-floor-plan-image {\n  display: block;\n  margin: 0 auto;\n  object-fit: contain;\n  width: 100%;\n  height: auto;\n}\n.pg-floor-plan-image-wrapper--interactive {\n  cursor: default;\n  width: min-content;\n}\n.pg-floor-plan-image--interactive {\n  width: unset;\n  height: unset;\n}\n.pg-overlay-image {\n  display: block;\n  margin: 0 auto;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n.pg-floor-plan-marker {\n  --x: 0;\n  --y: 0;\n  align-items: center;\n  background-image: radial-gradient(white 25%, rgba(255, 0, 0, 0.2) 25%);\n  border: var(--rem-0-1) solid red;\n  border-radius: 50%;\n  display: grid;\n  left: var(--x);\n  pointer-events: none;\n  position: absolute;\n  top: var(--y);\n  transform: translate(-50%, -50%);\n  height: var(--rem-8);\n  justify-items: center;\n  width: var(--rem-8);\n}\n.pg-floor-plan-marker > .pg-map-icon {\n  --color: red;\n}\n.pg-floor-plan-menu {\n  align-items: center;\n  color: var(--color-header-content);\n  display: contents;\n  margin: 0;\n}\n.pg-floor-plan-menu-section {\n  align-items: center;\n  display: grid;\n  gap: var(--rem-0-5);\n  grid-area: view;\n  justify-content: center;\n  left: 0;\n  margin: 0 auto;\n  padding: var(--rem-0-5);\n}\n.pg-floor-plan-interactive-button {\n  align-items: center;\n  background-color: var(--color-cell);\n  border: none;\n  box-shadow: 0 0 var(--rem-1-2) rgba(0, 0, 0, 0.5);\n  color: var(--color-content);\n  cursor: pointer;\n  display: flex;\n  gap: var(--rem-0-5);\n  justify-content: center;\n  padding: var(--rem-1) var(--rem-2);\n}\n.pg-floor-plan-message {\n  background-image: linear-gradient(to right, transparent, white, transparent);\n  opacity: 0;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  text-align: center;\n  transition: opacity 0.5s;\n  width: 100vw;\n  z-index: 3;\n}\n.pg-floor-plan-message--active {\n  opacity: 1;\n}\n\n\n/* apply mobiles styles within the provided breakpoint */\n@media (max-width: ${e}) {\n  \n.pg-cell-wrapper--column-header,\n.pg-cell-wrapper--data,\n.pg-cell-wrapper--data-empty {\n  display: none;\n}\n.pg-cell-wrapper--column-header-active,\n.pg-cell-wrapper--column-header-time,\n.pg-cell-wrapper--column-header-location,\n.pg-cell-wrapper--data-active,\n.pg-cell-wrapper--data-time,\n.pg-cell-wrapper--data-location,\n.pg-cell-wrapper--data-favorite,\n.pg-cell-wrapper--data-search,\n.pg-cell-wrapper--data-empty-time,\n.pg-cell-wrapper--data-empty-location,\n.pg-cell-wrapper--data-empty-active {\n  display: revert;\n  min-width: 0;\n}\n.pg-cell--data {\n  margin: 0;\n}\n.pg-cell--data-search,\n.pg-cell--data-favorite {\n  margin: auto;\n}\n.pg-floor-plan-header {\n  grid-template-areas:\n    "title title"\n    "view view";\n}\n.pg-floor-plan-title {\n  text-align: center;\n}\n.pg-floor-plan-menu-section {\n  grid-template-columns: auto 1fr;\n  gap: var(--rem-1);\n}\n.pg-cell-wrapper--corner,\n.pg-cell-wrapper--row-header-time,\n.pg-cell-wrapper--row-header-time:after,\n.pg-cell-wrapper--row-header-location,\n.pg-cell-wrapper--row-header-location:after {\n  transition: all 0.5s;\n}\n.pg-table-wrapper--scrolled .pg-cell-wrapper--row-header-time,\n.pg-table-wrapper--scrolled .pg-cell-wrapper--row-header-location {\n  cursor: pointer;\n}\n.pg-table-wrapper--scrolled .pg-cell-wrapper--row-header-time:after,\n.pg-table-wrapper--scrolled .pg-cell-wrapper--row-header-location:after {\n  bottom: 0;\n  content: 'COLLAPSE \\25C0';\n  writing-mode: vertical-lr;\n  display: inline-block;\n  font-size: 1em;\n  font-weight: normal;\n  height: 100%;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  text-align: center;\n}\n.pg-table-wrapper--scrolled .pg-cell-wrapper--corner-collapsed,\n.pg-table-wrapper--scrolled .pg-cell-wrapper--row-header-collapsed {\n  left: var(--rem--11);\n}\n.pg-table-wrapper--scrolled .pg-cell-wrapper--row-header-collapsed:after {\n  content: 'EXPAND \\25C0';\n  transform: rotate(180deg);\n}\n.pg-table-wrapper--scrolled .pg-cell-wrapper--row-header-collapsed .pg-cell--row-header {\n  pointer-events: none;\n}\n.pg-table-wrapper--scrolled .pg-cell-wrapper--corner-collapsed {\n  padding-right: 0;\n}\n.pg-table-wrapper--scrolled .pg-cell-wrapper--corner-collapsed .pg-corner-text {\n  order: -1;\n}\n\n}\n`)(l||"50em"),s=document.createElement("template");if(s.innerHTML=`\n    <style>${c}</style>\n    <div class="pg-loading"></div>\n  `,a.appendChild(s.content.cloneNode(!0)),t)return!0;await new Promise((e=>{setTimeout((()=>{e()}))}));const d={location:W,time:Y,allTime:Y,now:Y,nowOnly:Y,favorites:X,search:K,list:ne}[e.sortBy],p="floorPlan"===e.view,g=document.createElement("template");g.innerHTML=`\n    <style>\n      /* typical browser defaults for dialog polyfill */\n      dialog + .backdrop { position: fixed; top: 0; right: 0; bottom: 0; left: 0; background: rgba(0, 0, 0, 0.1); }\n      ${c}\n    </style>\n    <section id="ProgramGuide" class="${e.maximized?"pg-maximized":""}">\n      <header class="pg-header">\n        ${(({currentSearch:e})=>`\n  <form class="pg-search-bar" onsubmit="${E("search")}">\n    <input class="pg-search-input" onchange="${E("changeSearch")}" placeholder="Search events ..." value="${e}" />\n    <button class="pg-search-button"><i class="pg-search-icon" title="Search"></i></button>\n  </form>\n`)(e)}\n        <button class="pg-maximize-button" onclick="${E("maximize")}">${e.maximized?"Exit Full Screen":"Full Screen"}</button>\n        \n  <menu class="pg-main-menu">\n    <button class="pg-main-menu-button" onclick="${E("undoStateChange")}">\n      <i class="pg-prev-icon">&xlarr;</i>\n      <span>Back</span>\n    </button>\n    <button class="pg-main-menu-button" onclick="${E("toggleSortDialog",!0)}">\n      <i class="pg-more-icon"></i>\n      <span>Menu</span>\n    </button>\n    <button class="pg-main-menu-button" onclick="${E("showFloorPlan","none")}">\n      <i class="pg-map-icon"></i>\n      <span>Map</span>\n    </button>\n    <button class="pg-main-menu-button" onclick="${E("selectSortBy","favorites")}">\n      <i class="pg-favorite-icon">&starf;</i>\n      <span>Favorites</span>\n    </button>\n    <button class="pg-main-menu-button" onclick="${E("print")}">\n      <i class="pg-print-icon"></i>\n      <span>Print</span>\n    </button>\n  </menu>\n\n      </header>\n      ${p?ee(e):d(e)}\n    </section>\n    <dialog class="pg-dialog pg-dialog--sort">${J(e,n)}</dialog>\n    <dialog class="pg-dialog pg-dialog--event">${q(e)}</dialog>\n  `,y(a),a.appendChild(g.content.cloneNode(!0));const m=a.querySelectorAll(".pg-dialog");for(const e of m)te.registerDialog(e),e.classList.contains("pg-dialog--event")||e.addEventListener("close",n.render);if("guide"===e.view){const e=a.querySelector(".pg-table-wrapper"),n=()=>{const n="pg-table-wrapper--scrolled";e.scrollLeft>0&&!e.classList.contains(n)&&e.classList.add(n),0===e.scrollLeft&&e.classList.remove(n)};e.addEventListener("scroll",n)}else if("floorPlan"===e.view){a.querySelector(".pg-floor-plan-image").replaceWith(o.floorPlanImage);const e=a.querySelector(".pg-floor-plan-marker");e&&e.scrollIntoView({block:"end"})}return!0};var de=({state:e,setState:n,component:t})=>async a=>{const{openEventDialog:r}=t,o=decodeURIComponent(a),i=JSON.parse(o);return await n({favorites:[...e.favorites,i]},{render:!1,pushState:!1}),r(a),await R(i)},pe=({state:e,setState:n,component:t})=>async a=>{const{openEventDialog:r}=t,o=decodeURIComponent(a),i=JSON.parse(o),l=e.favorites.findIndex((({location:e,start:n,name:t})=>{const{location:a,start:r,name:o}=i;return e===a&&n===r&&t===o})),c=[...e.favorites];return c.splice(l,1),"favorites"===e.sortBy?await n({favorites:c},{pushState:!1}):(await n({favorites:c},{render:!1,pushState:!1}),r(a)),await j(i)},ge=({state:e,setState:n})=>async(t,a)=>{const r="boolean"==typeof a?a:e.hiddenLocations.includes(t),o=e.hiddenLocations.findIndex((e=>t===e)),i=[...e.hiddenLocations];r&&-1!==o?i.splice(o,1):i.push(t);const l=[...new Set(i)];if(JSON.stringify(e.hiddenLocations)!==JSON.stringify(l))return await n({hiddenLocations:l},{render:!1}),await B(l)},me=({setState:e,state:n})=>async()=>{const t=n.hiddenLocations.length>0;await e({hiddenLocations:t?[]:[...n.locations]},{render:!1}),await B()},he=({component:e})=>n=>{const{toggleSortDialog:t,closeEventDialog:a}=e;"Esc"!==n.key&&"Escape"!==n.key||(n.preventDefault(),t(!1),a())},ue=({setState:e,state:n,component:t})=>async()=>{const{root:a}=t,{locations:r}=n,o=location.hash.replace("#","");if(!o.startsWith("View-Location-"))return;const i=r.find((e=>o.replace("View-Location-","")===e.replace(/[^a-zA-Z0-9]+/g,"-").replace(/^-|-$/g,"")));if(!i)return void await e({view:"guide",sortBy:"location"},{pushState:!1});n.hiddenLocations.includes(i)&&t.toggleHiddenLocation(i,!0),await e({activeLocation:i,marker:i,view:"guide",sortBy:"location"},{pushState:!1});const l=a.querySelector(".pg-cell-wrapper--column-header-active-location");l&&(l.scrollIntoView(),t.scrollIntoView()),history.replaceState({},"",location.href.replace(/#.+/,""))},ve=({state:e,setState:n,component:t})=>async a=>{const{hasFloorPlan:r}=e;if(!r)return;const{toggleFloorPlanInteractive:o}=t;e.marker===a&&"floorPlan"===e.view||(await n({marker:a,view:"floorPlan"}),o("none"!==a))},fe=({state:e,setState:n,component:t})=>async(a,r)=>{const{templateCache:o}=t,i=a??!e.floorPlanInteractive,{floorPlanImage:l}=o,c=i?"add":"remove";l.classList[c]("pg-floor-plan-image--interactive"),await n({floorPlanInteractive:i},{pushState:!1}),setTimeout((()=>{r&&t.showFloorPlanMessage(r,"Tap a location to view its schedule!")}))},be=({state:e,component:n})=>({target:t})=>{const{root:a}=n;if("nowOnly"===e.sortBy)return;if(!a.querySelector(".pg-table-wrapper").classList.contains("pg-table-wrapper--scrolled"))return;const r=a.querySelectorAll(".pg-cell-wrapper--row-header"),o="pg-cell-wrapper--row-header-collapsed",i=t.classList.contains(o)?"remove":"add";for(const e of r)e.classList[i](o);a.querySelector(".pg-cell-wrapper--corner").classList[i]("pg-cell-wrapper--corner-collapsed")},we=({state:e,component:n})=>t=>{const{root:a}=n,r="true"===t||!!t,o=a.querySelector(".pg-dialog--sort"),i=k(J(e,n));y(o),o.appendChild(i),r?o.showModal():o.open&&o.close()},ye=({setState:e,component:n})=>async t=>{const{root:a}=n,r=decodeURIComponent(t),o=JSON.parse(r),i=await e({activeEvent:V(o)},{render:!1,pushState:!1}),l=a.querySelector(".pg-dialog--event"),c=k(q(i));y(l),l.appendChild(c),l.open||l.showModal()},ke=({component:e})=>()=>{const{root:n}=e;n.querySelector(".pg-dialog--event").close()},Se=({setState:e,component:n})=>async t=>{const{toggleSortDialog:a}=n;a(!1),"location"===state.sortBy&&"guide"===state.view||await e({view:"guide",sortBy:"location",activeLocation:t})},xe=({state:e,setState:n})=>async t=>{const a=t.target.value,r=e.activeTime.toLocaleTimeString(),o=new Date(`${a} ${r}`);e.activeDate===a&&e.activeTime===o||await n({sortBy:["time","allTime","now","nowOnly"].some((n=>n===e.sortBy))?"time":e.sortBy,activeDay:a,activeTime:o})},$e=({state:e,setState:n})=>async({target:t})=>{const{interval:a}=e.times||g,[r,o]=t.value.split(":"),i=Math.round(o/a)*a,l=1===String(i).length?`0${i}`:i;t.value=`${r}:${l}`;const{activeDay:c}=e,s=t.value,d=new Date(`${c} ${s}`);e.activeTime.toISOString()!==d.toISOString()&&await n({activeTime:d},{render:!1})},De=({state:e,setState:n,component:t})=>async a=>{const{toggleSortDialog:r}=t;if(r(!1),e.sortBy===a&&"guide"===e.view)return;const o="now"===a||"nowOnly"===a?_(e):e.activeDay;await n({view:"guide",marker:"none",sortBy:a,activeDay:o})},Te=({setState:e})=>async({target:n})=>{await e({currentSearch:n.value},{render:!1,pushState:!1})},Ee=({state:e,setState:n})=>async t=>{t.preventDefault();const{currentSearch:a,events:r}=e,o=r.filter((e=>M(a,e.name)||M(a,e.location)||M(a,e.host)||M(a,e.category)||M(a,e.description))).sort(((e,n)=>{const t=M(a,e.name),r=M(a,n.name);return!t&&r?1:t&&!r?-1:0}));await n({searchResults:o,sortBy:"search"})},Le=({state:e,component:n})=>(t,a)=>{const{floorPlanInteractive:r}=e;if(!r)return;const{root:o}=n,{clientY:i}=t,l=o.querySelector(".pg-floor-plan-message"),c="pg-floor-plan-message--active";l.style.top=`${i}px`,l.classList.add(c),l.textContent=a,setTimeout((()=>{l.classList.remove(c),setTimeout((()=>{l.textContent=""}),600)}),3e3)},Me=({state:e,setState:n,component:t})=>async()=>{const{root:a}=t;let r=a.host;for(;r.parentElement;)r.parentElement.style.overflow=e.maximized?"":"hidden",r=r.parentElement;await n({maximized:!e.maximized},{pushState:!1})},Ae=({state:e,setState:n})=>async()=>{const{prevState:t}=e;0!==t.length&&await n({...t.slice(-1)[0],maximized:e.maximized,prevState:t.slice(0,-1)},{pushState:!1})};const Fe=(e,n,t=[])=>{const a=e.parentElement,r=e.querySelector("thead"),{length:o}=r.querySelectorAll("th");if(o>n){const r=((e,n)=>{const t=e.querySelector("thead"),a=e.querySelector("tbody"),r=e.cloneNode(!0),o=r.querySelector("thead > tr"),i=r.querySelectorAll("tbody > tr"),l=t.querySelectorAll("th"),c=[...l].map((e=>e.textContent.trim())),s=a.querySelectorAll("tr"),{firstElementChild:d}=o;y(o),o.appendChild(d);for(const e in l){const t=l[e];+e<n&&o.appendChild(t)}for(const e in[...s]){const t=s[e],a=i[e],r=t.querySelector("th"),o=t.querySelectorAll("td");y(a),a.appendChild(r.cloneNode(!0));for(const e in[...o]){const t=o[e];c.findIndex((e=>e===t.dataset.column))<n&&a.appendChild(t)}}return r})(e,n);return a.insertBefore(r,e),Fe(e,n,[r,...t])}return[e,...t]};var ze=({setState:e,component:n})=>async()=>{await e({view:"guide",sortBy:"location"});const t=n.root.querySelector(".pg-table").cloneNode(!0),a=document.createElement("style");a.textContent="\n    @media print {\n      body {\n        print-color-adjust: exact;\n        -webkit-print-color-adjust: exact\n      }\n      body *:not(.printable, .printable *) {\n        display: none;\n      }\n      body * {\n        all: revert;\n        font-size: 1vmin;\n        text-align: center;\n      }\n      .pg-table {\n        border: 0.1rem solid;\n        border-collapse: collapse;\n        page-break-inside: avoid;\n        table-layout: fixed;\n        width: 100%;\n      }\n      .pg-table * {\n        padding: 0.2rem;\n      }\n      .pg-row:nth-child(odd) {\n        background-color: #eee;\n      }\n      .pg-row:nth-child(even) {\n        background-color: #ddd;\n      }\n      .pg-cell-wrapper--data {\n        background-color: #fff;\n        border: 0.1rem solid;\n      }\n      .pg-cell-wrapper--corner,\n      .pg-cell-wrapper--column-header,\n      .pg-cell-wrapper--row-header {\n        background-color: #555;\n        color: #fff;\n      }\n      @page {\n        size: A3 landscape;\n        margin: 0.05in;\n      }\n    }\n  ";const r={chunks:[]},o=()=>{document.body.appendChild(a),document.body.appendChild(t),t.classList.add("printable"),r.chunks=Fe(t,16)},i=()=>{document.body.removeChild(a);for(const e of r.chunks)document.body.removeChild(e);window.removeEventListener("beforeprint",o),window.removeEventListener("afterPrint",i)};window.addEventListener("beforeprint",o),window.addEventListener("afterprint",i),window.print()},_e="undefined"==typeof HTMLElement?class{}:HTMLElement;return{...U,Components:Object.freeze({__proto__:null,ProgramGuideNative:class extends _e{#e={prevState:[],locations:[],events:[],times:g,activeDay:"",activeTime:new Date,activeLocation:"",activeEvent:V(d),sortBy:"location",view:"guide",marker:"none",favorites:[],hiddenLocations:[],currentSearch:"",searchResults:[],hasFloorPlan:!1,floorPlan:{},floorPlanInteractive:!1,maximized:!1};templateCache={floorPlanImage:Image?new Image:null};constructor(){if(super(),"undefined"==typeof window)return;const e=this;e.root=e.attachShadow({mode:"open"});const n={render:se,handleEsc:he,handleHashChange:ue,addFavorite:de,removeFavorite:pe,toggleHiddenLocation:ge,toggleAllHiddenLocations:me,showFloorPlan:ve,toggleFloorPlanInteractive:fe,toggleHeaders:be,toggleSortDialog:we,openEventDialog:ye,closeEventDialog:ke,selectActiveLocation:Se,selectActiveDay:xe,selectActiveTime:$e,selectSortBy:De,changeSearch:Te,search:Ee,showFloorPlanMessage:Le,maximize:Me,undoStateChange:Ae,print:ze};for(const t in n){const a=n[t];e[t]=e.provideState(a)}e.render({initializing:!0}),e.waitForFetch=O().then((async n=>{const t={events:await I(),times:await P(),favorites:await H(),hiddenLocations:await G(),floorPlan:await C(),locations:n},{floorPlanImage:a}=e.templateCache,{imageSrc:r,dimensions:o}=t.floorPlan,{height:i,width:l}=o;a.className="pg-floor-plan-image",a.src=r,a.height=i,a.width=l;const{days:c}=t.times||g,s=_(t),d=c[s][0].date,{date:p,time:m}=T(d);e.setState({...t,activeLocation:n[0],activeDay:s,activeTime:new Date(`${p} ${m}`),hasFloorPlan:!!r},{pushState:!1})}))}connectedCallback(){const e=this;window.addEventListener("keydown",e.handleEsc),e.waitForFetch.then((()=>{window.addEventListener("hashchange",e.handleHashChange)}))}disconnectedCallback(){window.removeEventListener("keydown",this.handleEsc),window.removeEventListener("hashchange",this.handleHashChange)}async setState(e,n={}){const t={render:!0,pushState:!0,...n},a=this,r={...a.#e};return a.#e={...r,...e,...t.pushState?{prevState:[...a.#e.prevState,r]}:{}},t.render&&await a.render(),{...a.#e}}provideState(e){const n=this;return(...t)=>{const a={...n.#e},r=n.setState.bind(n);return e({state:a,setState:r,component:n})(...t)}}}})}}));